<ion-row>
  <ion-col *ngFor="let data of recieved_data;" size="6">
    <ion-card class="card ion-no-margin" (click)="open(data)">
      <!-- <ion-badge class="badge" *ngIf="data.offer">{{data.discount}}%</ion-badge>
       -->

      <!-- <ng-container *ngIf="(data.productImageOdoo && data.productImageOdoo[0])">
        <img [src]="(data.productImageOdoo && data.productImageOdoo[0]) ? _sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + data.productImageOdoo[0].image) : ''" [alt]="data.name" >
      </ng-container> -->

      <ng-container *ngIf="(data.productTempImage && data.productTempImage[0])">
        <img style="min-height: 205px;" src="{{imageUrl}}/{{data.productTempImage[0]}}" [alt]="data.name" >
      </ng-container>

      <ng-container *ngIf="!(data.productTempImage && data.productTempImage[0])">
        <img src="assets/logo.svg">
      </ng-container>

      <ion-card-content style="padding-left: 7px; height: 136px;">
        <ion-card-title>
          <ion-row>
            <ion-col class="ion-no-padding">
              <ion-text class="ion-text-left"><span class="price product-name">{{data.name}}</span></ion-text>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="data.productWarehouseOdoo">
            <ion-col class="ion-no-padding">
              <ion-text class="ion-text-left">
                <span class="price">Kho: <span style="color: #4043cb;">{{data.productWarehouseOdoo.warehouseName}}</span></span>
              </ion-text>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="data.price > 0 && data.finalPrice > 0 && data.price > data.finalPrice">
            <ion-col class="ion-no-padding">
              <ion-text class="ion-text-left"><span class="price">Giá gốc: <span class="inline">{{data.price | currency:'VND':'symbol'}}</span>
                 <!-- <strong>{{data.currency}}{{fun.calculate(data.cost_price, data.discount)}}</strong> -->
                </span></ion-text>
            </ion-col>
          </ion-row>
          <ion-row *ngIf="data.price > 0 || data.finalPrice > 0">
            <ion-col class="ion-no-padding">
              <ion-text class="ion-text-left"><span class="price">Giá bán: <strong style="color: rgb(236, 126, 126);">{{data.finalPrice || data.price | currency:'VND':'symbol'}}</strong></span></ion-text>
            </ion-col>
          </ion-row>
          <ng-container *ngIf="isLogin">
            <ion-row *ngIf="data.partnerDiscountOdoo && data.partnerDiscountOdoo > 0 && !isDaiLy" style="text-align:left">
              <ion-col class="ion-no-padding">
                <!-- <ion-icon style="font-size: 16px;" name="diamond-outline" color="tertiary"></ion-icon> -->
                <ion-text class="ion-text-left"><span class="price">Chiết khấu CTV: <strong style="font-size: 12px; color: rgb(236, 126, 126);">{{data.partnerDiscountOdoo | currency:'VND':'symbol'}}</strong></span></ion-text>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="data.agentDiscountOdoo && data.agentDiscountOdoo > 0 && isDaiLy" style="text-align:left">
              <ion-col class="ion-no-padding">
                <!-- <ion-icon style="font-size: 16px;" name="diamond-outline" color="tertiary"></ion-icon> -->
                <ion-text class="ion-text-left"><span class="price">Chiết khấu đại lý: <strong style="font-size: 12px; color: rgb(236, 126, 126);">{{data.agentDiscountOdoo | currency:'VND':'symbol'}}</strong></span></ion-text>
              </ion-col>
            </ion-row>
          </ng-container>
          <ng-container *ngIf="!isLogin">
            <ion-row *ngIf="data.partnerDiscountOdoo && data.partnerDiscountOdoo > 0" style="text-align:left">
              <ion-col class="ion-no-padding">
                <!-- <ion-icon style="font-size: 16px;" name="diamond-outline" color="tertiary"></ion-icon> -->
                <ion-text class="ion-text-left"><span class="price">Chiết khấu CTV: <strong style="font-size: 12px; color: rgb(236, 126, 126);">{{data.partnerDiscountOdoo | currency:'VND':'symbol'}}</strong></span></ion-text>
              </ion-col>
            </ion-row>
            <ion-row *ngIf="data.agentDiscountOdoo && data.agentDiscountOdoo > 0" style="text-align:left">
              <ion-col class="ion-no-padding">
                <!-- <ion-icon style="font-size: 16px;" name="diamond-outline" color="tertiary"></ion-icon> -->
                <ion-text class="ion-text-left"><span class="price">Chiết khấu đại lý: <strong style="font-size: 12px; color: rgb(236, 126, 126);">{{data.agentDiscountOdoo | currency:'VND':'symbol'}}</strong></span></ion-text>
              </ion-col>
            </ion-row>
          </ng-container>

          <!-- <ion-row>
            <ion-col class="ion-text-left ion-no-padding">
              <h6 text-left class="subtitle">{{data.bought}}+ bought this</h6>
            </ion-col>
          </ion-row> -->
        </ion-card-title>
      </ion-card-content>
    </ion-card>
  </ion-col>
</ion-row>